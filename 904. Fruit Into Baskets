class Solution {
public:
    int totalFruit(vector<int>& fruits) {
        if(fruits.size()==0)return 0;
        if(fruits.size()==1 || fruits.size()==2)return fruits.size();
        int i=0;
        int ans=0;
        while(i<fruits.size())
        {
            int j=i;
            int first=fruits[i];
            while(j<fruits.size() && fruits[i]==fruits[j])
            {
                ans=max(ans,j-i+1);
                j++;
            }
            if (j == fruits.size()) return ans; 
            int second=fruits[j];
            int k=j;
            while(k<fruits.size())
            {
                if(fruits[k]==first || fruits[k]==second)
                {
                    ans=max(ans,k-i+1);
                    k++;
                }else{
                    break;
                }
            }
            i=j;
        }
        return ans;
    }
};
